(this["webpackJsonpescape-room"]=this["webpackJsonpescape-room"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},function(e,t,n){},,,,function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/test_room.54170a7b.jpg"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(6),l=n.n(r),i=(n(12),n(1)),c=(n(13),n(2)),s=(n(15),n(3)),u=n.n(s),d=(n(16),function(e){var t=e.src,n=(e.setSrc,e.roomName),r=a.a.createRef(),l=a.a.useState(null),s=Object(i.a)(l,2),d=s[0],m=s[1],p=function(){window.location.reload(!1),alert("Reloaded page")};return Object(o.useEffect)((function(){var e=new c.Viewer({container:r.current,panorama:t,loadingTxt:"hello",caption:n,navbar:["zoom",{id:"my-button",title:"Hello world",className:"custom-button",content:"Upload New image",onClick:p},"caption","fullscreen"],plugins:[[u.a,{markers:[]}]]}),o=e.getPlugin(u.a);return o.on("select-marker",(function(e,t){var n="";n+="{",n+="id: 'REMOVE',",n+="polylineRad: ",n+=JSON.stringify(t.config.polylineRad),n+=",",n+="svgStyle: {",n+="fill: 'rgba(200, 0, 0, 0.2)',",n+="stroke: 'rgba(200, 0, 50, 0.8)',",n+="strokeWidth: '2px',",n+="},",n+="tooltip: {",n+="  content: 'A dynamic polysdsdsgon marker',",n+="  position: 'right bottom',",n+="},",n+="},",console.log(n)})),e.on("click",(function(e,t){if(!t.rightclick){var n=o.markers["poly-new"];if(n){console.log("Update ");var a=n.config.polylineRad;a.push([t.longitude,t.latitude]),o.updateMarker({id:"poly-new",polylineRad:a})}else console.log("adding marker"),o.addMarker({id:"poly-new",polylineRad:[[t.longitude,t.latitude],[t.longitude+1e-4,t.latitude+1e-4]],svgStyle:{fill:"rgba(200, 0, 0, 0.2)",stroke:"rgba(200, 0, 50, 0.8)",strokeWidth:"2px"},tooltip:{content:"New marker to add. Inspect page, open console and send me the print out when you click it",position:"right bottom"}})}})),function(){e.destroy()}}),[d,r,t,n,m]),a.a.createElement("div",null,a.a.createElement("div",{className:"viewer",ref:r}))}),m=(n(17),function(e){var t=e.setSrc;return a.a.createElement("div",null,a.a.createElement("header",null,a.a.createElement("h1",null,"Uploading Panorama")),a.a.createElement("div",{id:"content"},a.a.createElement("p",null,"This is page will allow you to upload a panorama. You will then be able to mask out places in your picture that will be clickable in the escape room"),a.a.createElement("input",{type:"file",onChange:function(e){var n=e.target.files[0],o=new FileReader;o.addEventListener("load",(function(){t(o.result)}),!1),n&&o.readAsDataURL(n)},name:"file"}),a.a.createElement("button",{onClick:function(){t(n(18))}},"Click here to use a pre-set panorama")))});n(19);var p=function(){var e=Object(o.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1];return a.a.createElement("div",null,n?a.a.createElement(d,{src:n,setSrc:r,roomName:"Boat Room"}):a.a.createElement(m,{setSrc:r}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.e52bfe0b.chunk.js.map